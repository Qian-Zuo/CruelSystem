主节点失效： 节点切换

处理主节点故障的情况则比较棘手：选择某个从节点将其提升为主节点；客户端也需要更新， 这样之后的写请求会发送给新的主节点， 然后其他从节点要接受来自新的主
节点上的变更数据。
选举新的主节点。可以通过选举的方式（超过多数的节点达成共识）来选举新的主节点， 或者由之前选定的某控制节点来指定新的主节点。候选节点最好与原主
节点的数据差异最小， 这样可以最小化数据丢失的风险。
重新配置系统使新主节点生效。客户端现在需要将写请求发送给新的主节点。如果原主节点之后重新上线， 可能仍然自认为是主节点， 而没有意识到其他节点已经达成共识迫使其下台。
这时系统要确保原主节点降级为从节点， 并认可新的主节点。
