# 从零用户到百万用户的扩容
- Alex Xu Chapter 1, Part 2

## CDN
- 将静态内容推送到离客户更近的服务器
- 考虑成本，只适用高频内容
- 适当的过期策略
- 能处理CDN失效

## TODO
- 无状态服务
- 多数据中心，支持灾备
- 消息队列
- 日志，性能指标，自动化

## 数据库扩容
- 垂直扩容，提高服务器性能
- 水平扩容，增加服务器数量
- 怎么不是数据库表扩容？
- 数据库分片，每个分片模式相同，数据不同
- 节点故障是，考虑重新分片
- 明星问题
- 大表的 Join，和反规范化

## 小结
- 应用层无状态
- 每层冗余
- 尽可能多的缓存
- 多个数据中心
- 静态内容推送 CDN
- 通过分片扩容
- 分离每层成单独的服务
- 监测系统和自动化管理
