# Dynamo - Amazon的高可用键值数据库

## 2 背景
- 数据库的复制功能，用可用性换一致性
- TODO：数据库的水平扩展，智能分区
- TODO：一致性窗口
- 每个服务，使用一套Dynamo系统

## 2.1 假设
- 通过唯一的键进行读写，存储二进制对象，用键来索引
- 没有跨多个键的操作，没有数据模式，没有联合查询
- 存储的基本是小文件
- 数据仓库为了可用性牺牲了ACID
- Dynamo为了Availability牺牲了Consistency
- 运行在通用硬件上，但是达到P99.9的SLA

## 2.2 需求
- 复制式数据库用可用性换取强一致性
- 乐观复制增强了可用性，但是需要检测和解决冲突
- Dynamo 设计为 最终一致数据存储
- 传统数据库在写时解决冲突，读的时候比较方便，副本不能访问时写就会失败
- Dynamo 设计为永远可写，读数据的时候解决冲突
- 数据库可以解决冲突，然后用最后一次写有效的策略
- 或者有应用程序选择合并冲突的版本










