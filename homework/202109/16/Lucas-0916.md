# Spanner - Google全球分布式数据库

## 0 摘要
- 高可用，可伸缩，多版本，多副本同步
- 全球分布，支持外部一致性，和分布式事务
- 本文描述其特性，结构，设计原理和接口
- TODO: 暴露时钟不确定性
- 对现有数据的非阻塞读取，无锁只读事务，原子性模型修改

## 1 简述
- 数据分片只全球多个数据中心
- 跨多个Paxos状态机集合
- 客户端自动在多副本之间转移故障
- 数据总量和服务器数量发生变化是，自动重新分片
- 规模在百万台服务器，和万亿行数据库记录
- TODO： 应用程序选择低延迟而非高可用
- BigTable不适合不断演进的数据库模型，不支持强一致性
- MegaStore 支持半结构化数据模型和副本，但是写入慢
- Spanner从版本化键值数据库发展为多版本时态数据库
- 支持细粒度控制副本配置
- 用户距离控制读取延迟
- 副本距离控制写入延迟
- 副本数量控制可用性，持久性和读取性能


## TODO
- 外部一致性读写
- 某个时间戳上的全局一致性读取
- 一致性MapReduce执行
- 院子模型更新
- 外部一致性，线性一致性，一个事务先提交则时间戳小
- TrueTime API的实现，暴露了时钟的不确定性
