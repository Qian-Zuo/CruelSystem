# 从零用户到百万用户的扩容
- Alex Xu Chapter 1

## Database Replication
Master/Slave 模式 是数据库水平扩展的常见模式，通过读写分离+主从同步 有效分摊了大量的读操作。 而大部分的workload也是读多写少的。
主从复制提供了：
- 更好的性能
- 容灾能力
- 高可用性

## Stateful & Stateless Architecture
服务分为有状态和无状态的。一个典型的例子就是，我们需要对用户进行鉴权时，需要记录session等信息。
如果将session保存在服务器的内存里，那该服务就是有状态的。那么所有该用户的请求将只能在有该状态的服务器上进行，这并不是一个非常可扩展的设计。
相对而言，我们更倾向于将有状态和无状态的服务分层，用一个公用的存储来记录有状态的信息，如session等。


## CDN
CDN也是缓存的一种，通常用来存储静态资源，通过物理上分散的服务器，为用户提供静态资源更短的访问链路。

## 数据中心
随着用户规模的进一步增长，我们需要部署多个数据中心。通过DNS来进行路由。多中心互相灾备。如果某一边数据中心异常，流量将全部打向其他的数据中心。
需要考虑的问题：
- 流量重定向
- 数据同步
- 测试和部署
