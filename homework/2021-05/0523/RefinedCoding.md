# Fault-Tolerant VM
- P4 - P6
- https://github.com/refinedcoding/CruelSystem/blob/main/paper/vm-ft.pdf

### 2.3 检测和响应错误
- 主备机器都得在对方失效是快速响应
- 一方失败，则进入go live模式，停止向通道发送日志 

## 3. 实用的容错实现

### 3.1 启动和重启支持容错的虚拟机

### 3.2 管理日志通道
- 保证备份机要及时跟上
- 备份机遇到空日志则跳过
- 机制会减少主机缓存被塞满的可能性
- 第一个原因是备份机可能太忙，难以处理所有的同步日志
- 为避免延迟，也可能延迟主机
- 最终延迟要小于100毫秒
- 如果延迟过长，则要放慢主机，屏蔽IO？
- 实际中主机很少被放缓

### 3.3 FT VM上的操作
- 主机明显关闭的时候，备份机也应该停止
- 如何取费主机的关闭和失败？明显
- 备份机如果处在最终的切换点，主机应停止

### 3.4 磁盘IO的实现问题

### 3.5 网络IO的实现问题



## Termilogy
lag in
in essence
appropriate point
quiesce,静默

